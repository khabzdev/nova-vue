import{a as X,u as G}from"./useForwardPropsEmits-DQ7cY2da.js";import{g as se,i as Ce,F as he,L as be,f as Me,a as E,S as Se,I as Be,b as H,c as Y,d as we,e as Pe}from"./utils-kTTPDiSQ.js";import{d as b,C as q,D as C,E as m,G as h,Y as D,Z as L,f as e,o as Ie,r as M,B as Z,w as Oe,a as ue,L as F,a7 as Fe,K as S,n as k,a1 as W,c as Re,y as ke}from"./vue.esm-bundler-BitZzlT5.js";import{c as ne,a as x}from"./index-BGV6KQZa.js";import{f as De,k as J}from"./index-CvzWs3kq.js";import{P as Q}from"./Presence-V9PPYXmU.js";import{u as K}from"./useForwardExpose-ClhNePUc.js";import{u as Te,F as Ee,a as Ke}from"./FocusScope-DcG16un3.js";import{P as A}from"./Primitive-B5VkAsKh.js";import{T as Ae}from"./Teleport-zC8-hnMw.js";import{c as T}from"./createContext-Fl0g0pNq.js";import{u as le}from"./useId-DKCHXeQR.js";import{b as Ve,P as ie,a as Ne,c as $e}from"./PopperContent-BZxkLFfv.js";import{u as Ge}from"./useDirection-C1R3tBjc.js";import{g as Le}from"./getActiveElement-FUKBWQwh.js";import{u as xe}from"./useArrowNavigation-B5rxJs06.js";import{u as Ue}from"./useFocusGuards-DVm2F-IH.js";import{u as je}from"./useTypeahead-siFnJEHo.js";import{D as ze}from"./DismissableLayer-DXSzZs-S.js";import{R as Ye}from"./RovingFocusGroup-mrBWr27v.js";import{u as We}from"./Collection-CCDXBU9V.js";var Xe=b({__name:"MenuAnchor",props:{reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(l){const u=l;return(r,p)=>(q(),C(e(Ve),D(L(u)),{default:m(()=>[h(r.$slots,"default")]),_:3},16))}}),He=Xe;function Ze(){const l=M(!1);return Ie(()=>{ne("keydown",()=>{l.value=!0},{capture:!0,passive:!0}),ne(["pointerdown","pointermove"],()=>{l.value=!1},{capture:!0,passive:!0})}),l}const Je=De(Ze),[R,de]=T(["MenuRoot","MenuSub"],"MenuContext"),[V,Qe]=T("MenuRoot");var et=b({__name:"MenuRoot",props:{open:{type:Boolean,required:!1,default:!1},dir:{type:String,required:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(l,{emit:u}){const r=l,p=u,{modal:f,dir:o}=Z(r),n=Ge(o),s=x(r,"open",p),a=M(),g=Je();return de({open:s,onOpenChange:c=>{s.value=c},content:a,onContentChange:c=>{a.value=c}}),Qe({onClose:()=>{s.value=!1},isUsingKeyboardRef:g,dir:n,modal:f}),(c,i)=>(q(),C(e(ie),null,{default:m(()=>[h(c.$slots,"default")]),_:3}))}}),Yt=et;const[ee,tt]=T("MenuContent");var rt=b({__name:"MenuContentImpl",props:Fe({loop:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},disableOutsideScroll:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},{...$e}),emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus","dismiss"],setup(l,{emit:u}){const r=l,p=u,f=R(),o=V(),{trapFocus:n,disableOutsidePointerEvents:s,loop:a}=Z(r);Ue(),Te(s.value);const g=M(""),c=M(0),i=M(0),d=M(null),v=M("right"),B=M(0),w=M(null),P=M(),{forwardRef:U,currentElement:I}=K(),{handleTypeaheadSearch:N}=je();Oe(I,t=>{f.onContentChange(t)}),ue(()=>{window.clearTimeout(c.value)});function j(t){var _,O;return v.value===((_=d.value)==null?void 0:_.side)&&Ce(t,(O=d.value)==null?void 0:O.area)}async function me(t){var y;p("openAutoFocus",t),!t.defaultPrevented&&(t.preventDefault(),(y=I.value)==null||y.focus({preventScroll:!0}))}function ge(t){var oe;if(t.defaultPrevented)return;const _=t.target.closest("[data-reka-menu-content]")===t.currentTarget,O=t.ctrlKey||t.altKey||t.metaKey,z=t.key.length===1,$=xe(t,Le(),I.value,{loop:a.value,arrowKeyOptions:"vertical",dir:o==null?void 0:o.dir.value,focus:!0,attributeName:"[data-reka-collection-item]:not([data-disabled])"});if($)return $==null?void 0:$.focus();if(t.code==="Space")return;const re=((oe=P.value)==null?void 0:oe.getItems())??[];if(_&&(t.key==="Tab"&&t.preventDefault(),!O&&z&&N(t.key,re)),t.target!==I.value||!he.includes(t.key))return;t.preventDefault();const ae=[...re.map(qe=>qe.ref)];be.includes(t.key)&&ae.reverse(),Me(ae)}function ve(t){var y,_;(_=(y=t==null?void 0:t.currentTarget)==null?void 0:y.contains)!=null&&_.call(y,t.target)||(window.clearTimeout(c.value),g.value="")}function _e(t){var O;if(!E(t))return;const y=t.target,_=B.value!==t.clientX;if((O=t==null?void 0:t.currentTarget)!=null&&O.contains(y)&&_){const z=t.clientX>B.value?"right":"left";v.value=z,B.value=t.clientX}}return tt({onItemEnter:t=>!!j(t),onItemLeave:t=>{var y;j(t)||((y=I.value)==null||y.focus(),w.value=null)},onTriggerLeave:t=>!!j(t),searchRef:g,pointerGraceTimerRef:i,onPointerGraceIntentChange:t=>{d.value=t}}),(t,y)=>(q(),C(e(Ee),{"as-child":"",trapped:e(n),onMountAutoFocus:me,onUnmountAutoFocus:y[7]||(y[7]=_=>p("closeAutoFocus",_))},{default:m(()=>[F(e(ze),{"as-child":"","disable-outside-pointer-events":e(s),onEscapeKeyDown:y[2]||(y[2]=_=>p("escapeKeyDown",_)),onPointerDownOutside:y[3]||(y[3]=_=>p("pointerDownOutside",_)),onFocusOutside:y[4]||(y[4]=_=>p("focusOutside",_)),onInteractOutside:y[5]||(y[5]=_=>p("interactOutside",_)),onDismiss:y[6]||(y[6]=_=>p("dismiss"))},{default:m(()=>[F(e(Ye),{ref_key:"rovingFocusGroupRef",ref:P,"current-tab-stop-id":w.value,"onUpdate:currentTabStopId":y[0]||(y[0]=_=>w.value=_),"as-child":"",orientation:"vertical",dir:e(o).dir.value,loop:e(a),onEntryFocus:y[1]||(y[1]=_=>{p("entryFocus",_),e(o).isUsingKeyboardRef.value||_.preventDefault()})},{default:m(()=>[F(e(Ne),{ref:e(U),role:"menu",as:t.as,"as-child":t.asChild,"aria-orientation":"vertical","data-reka-menu-content":"","data-state":e(se)(e(f).open.value),dir:e(o).dir.value,side:t.side,"side-offset":t.sideOffset,align:t.align,"align-offset":t.alignOffset,"avoid-collisions":t.avoidCollisions,"collision-boundary":t.collisionBoundary,"collision-padding":t.collisionPadding,"arrow-padding":t.arrowPadding,"prioritize-position":t.prioritizePosition,"position-strategy":t.positionStrategy,"update-position-strategy":t.updatePositionStrategy,sticky:t.sticky,"hide-when-detached":t.hideWhenDetached,reference:t.reference,onKeydown:ge,onBlur:ve,onPointermove:_e},{default:m(()=>[h(t.$slots,"default")]),_:3},8,["as","as-child","data-state","dir","side","side-offset","align","align-offset","avoid-collisions","collision-boundary","collision-padding","arrow-padding","prioritize-position","position-strategy","update-position-strategy","sticky","hide-when-detached","reference"])]),_:3},8,["current-tab-stop-id","dir","loop"])]),_:3},8,["disable-outside-pointer-events"])]),_:3},8,["trapped"]))}}),te=rt,at=b({inheritAttrs:!1,__name:"MenuItemImpl",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(l){const u=l,r=ee(),{forwardRef:p}=K(),{CollectionItem:f}=We(),o=M(!1);async function n(a){if(!a.defaultPrevented&&E(a)){if(u.disabled)r.onItemLeave(a);else if(!r.onItemEnter(a)){const c=a.currentTarget;c==null||c.focus({preventScroll:!0})}}}async function s(a){await k(),!a.defaultPrevented&&E(a)&&r.onItemLeave(a)}return(a,g)=>(q(),C(e(f),{value:{textValue:a.textValue}},{default:m(()=>[F(e(A),S({ref:e(p),role:"menuitem",tabindex:"-1"},a.$attrs,{as:a.as,"as-child":a.asChild,"aria-disabled":a.disabled||void 0,"data-disabled":a.disabled?"":void 0,"data-highlighted":o.value?"":void 0,onPointermove:n,onPointerleave:s,onFocus:g[0]||(g[0]=async c=>{await k(),!(c.defaultPrevented||a.disabled)&&(o.value=!0)}),onBlur:g[1]||(g[1]=async c=>{await k(),!c.defaultPrevented&&(o.value=!1)})}),{default:m(()=>[h(a.$slots,"default")]),_:3},16,["as","as-child","aria-disabled","data-disabled","data-highlighted"])]),_:3},8,["value"]))}}),pe=at,ot=b({__name:"MenuItem",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(l,{emit:u}){const r=l,p=u,{forwardRef:f,currentElement:o}=K(),n=V(),s=ee(),a=M(!1);async function g(){const c=o.value;if(!r.disabled&&c){const i=new CustomEvent(Be,{bubbles:!0,cancelable:!0});p("select",i),await k(),i.defaultPrevented?a.value=!1:n.onClose()}}return(c,i)=>(q(),C(pe,S(r,{ref:e(f),onClick:g,onPointerdown:i[0]||(i[0]=()=>{a.value=!0}),onPointerup:i[1]||(i[1]=async d=>{var v;await k(),!d.defaultPrevented&&(a.value||(v=d.currentTarget)==null||v.click())}),onKeydown:i[2]||(i[2]=async d=>{const v=e(s).searchRef.value!=="";c.disabled||v&&d.key===" "||e(Se).includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})}),{default:m(()=>[h(c.$slots,"default")]),_:3},16))}}),fe=ot;const[nt,ce]=T(["MenuCheckboxItem","MenuRadioItem"],"MenuItemIndicatorContext");var st=b({__name:"MenuItemIndicator",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(l){const u=nt({modelValue:M(!1)});return(r,p)=>(q(),C(e(Q),{present:r.forceMount||e(Y)(e(u).modelValue.value)||e(u).modelValue.value===!0},{default:m(()=>[F(e(A),{as:r.as,"as-child":r.asChild,"data-state":e(H)(e(u).modelValue.value)},{default:m(()=>[h(r.$slots,"default")]),_:3},8,["as","as-child","data-state"])]),_:3},8,["present"]))}}),Wt=st,ut=b({__name:"MenuCheckboxItem",props:{modelValue:{type:[Boolean,String],required:!1,default:!1},disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select","update:modelValue"],setup(l,{emit:u}){const r=l,p=u,f=J(r,["modelValue"]),o=X(f),n=x(r,"modelValue",p);return ce({modelValue:n}),(s,a)=>(q(),C(fe,S({role:"menuitemcheckbox"},e(o),{"aria-checked":e(Y)(e(n))?"mixed":e(n),"data-state":e(H)(e(n)),onSelect:a[0]||(a[0]=async g=>{p("select",g),e(Y)(e(n))?n.value=!0:n.value=!e(n)})}),{default:m(()=>[h(s.$slots,"default",{modelValue:e(n)})]),_:3},16,["aria-checked","data-state"]))}}),Xt=ut,lt=b({__name:"MenuRootContentModal",props:{loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(l,{emit:u}){const r=l,p=u,f=G(r,p),o=R(),{forwardRef:n,currentElement:s}=K();return Ke(s),(a,g)=>(q(),C(te,S(e(f),{ref:e(n),"trap-focus":e(o).open.value,"disable-outside-pointer-events":e(o).open.value,"disable-outside-scroll":!0,onDismiss:g[0]||(g[0]=c=>e(o).onOpenChange(!1)),onFocusOutside:g[1]||(g[1]=W(c=>p("focusOutside",c),["prevent"]))}),{default:m(()=>[h(a.$slots,"default")]),_:3},16,["trap-focus","disable-outside-pointer-events"]))}}),it=lt,dt=b({__name:"MenuRootContentNonModal",props:{loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(l,{emit:u}){const f=G(l,u),o=R();return(n,s)=>(q(),C(te,S(e(f),{"trap-focus":!1,"disable-outside-pointer-events":!1,"disable-outside-scroll":!1,onDismiss:s[0]||(s[0]=a=>e(o).onOpenChange(!1))}),{default:m(()=>[h(n.$slots,"default")]),_:3},16))}}),pt=dt,ft=b({__name:"MenuContent",props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},side:{type:null,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},align:{type:null,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(l,{emit:u}){const f=G(l,u),o=R(),n=V();return(s,a)=>(q(),C(e(Q),{present:s.forceMount||e(o).open.value},{default:m(()=>[e(n).modal.value?(q(),C(it,D(S({key:0},{...s.$attrs,...e(f)})),{default:m(()=>[h(s.$slots,"default")]),_:3},16)):(q(),C(pt,D(S({key:1},{...s.$attrs,...e(f)})),{default:m(()=>[h(s.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),Ht=ft,ct=b({__name:"MenuGroup",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(l){const u=l;return(r,p)=>(q(),C(e(A),S({role:"group"},u),{default:m(()=>[h(r.$slots,"default")]),_:3},16))}}),yt=ct,mt=b({__name:"MenuLabel",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"div"}},setup(l){const u=l;return(r,p)=>(q(),C(e(A),D(L(u)),{default:m(()=>[h(r.$slots,"default")]),_:3},16))}}),Zt=mt,gt=b({__name:"MenuPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(l){const u=l;return(r,p)=>(q(),C(e(Ae),D(L(u)),{default:m(()=>[h(r.$slots,"default")]),_:3},16))}}),Jt=gt;const[vt,_t]=T("MenuRadioGroup");var qt=b({__name:"MenuRadioGroup",props:{modelValue:{type:null,required:!1,default:""},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["update:modelValue"],setup(l,{emit:u}){const r=l,p=u,f=J(r,["modelValue"]),o=X(f),n=x(r,"modelValue",p);return _t({modelValue:n,onValueChange:s=>{n.value=s}}),(s,a)=>(q(),C(yt,D(L(e(o))),{default:m(()=>[h(s.$slots,"default",{modelValue:e(n)})]),_:3},16))}}),Qt=qt,Ct=b({__name:"MenuRadioItem",props:{value:{type:null,required:!0},disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["select"],setup(l,{emit:u}){const r=l,p=u,f=J(r,["value"]),o=X(f),{value:n}=Z(r),s=vt(),a=Re(()=>s.modelValue.value===(n==null?void 0:n.value));return ce({modelValue:a}),(g,c)=>(q(),C(fe,S({role:"menuitemradio"},e(o),{"aria-checked":a.value,"data-state":e(H)(a.value),onSelect:c[0]||(c[0]=async i=>{p("select",i),e(s).onValueChange(e(n))})}),{default:m(()=>[h(g.$slots,"default")]),_:3},16,["aria-checked","data-state"]))}}),er=Ct,ht=b({__name:"MenuSeparator",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(l){const u=l;return(r,p)=>(q(),C(e(A),S(u,{role:"separator","aria-orientation":"horizontal"}),{default:m(()=>[h(r.$slots,"default")]),_:3},16))}}),tr=ht;const[ye,bt]=T("MenuSub");var Mt=b({__name:"MenuSub",props:{open:{type:Boolean,required:!1,default:void 0}},emits:["update:open"],setup(l,{emit:u}){const r=l,f=x(r,"open",u,{defaultValue:!1,passive:r.open===void 0}),o=R(),n=M(),s=M();return ke(a=>{(o==null?void 0:o.open.value)===!1&&(f.value=!1),a(()=>f.value=!1)}),de({open:f,onOpenChange:a=>{f.value=a},content:s,onContentChange:a=>{s.value=a}}),bt({triggerId:"",contentId:"",trigger:n,onTriggerChange:a=>{n.value=a}}),(a,g)=>(q(),C(e(ie),null,{default:m(()=>[h(a.$slots,"default")]),_:3}))}}),rr=Mt,St=b({__name:"MenuSubContent",props:{forceMount:{type:Boolean,required:!1},loop:{type:Boolean,required:!1},sideOffset:{type:Number,required:!1},sideFlip:{type:Boolean,required:!1},alignOffset:{type:Number,required:!1},alignFlip:{type:Boolean,required:!1},avoidCollisions:{type:Boolean,required:!1},collisionBoundary:{type:null,required:!1},collisionPadding:{type:[Number,Object],required:!1},arrowPadding:{type:Number,required:!1},hideShiftedArrow:{type:Boolean,required:!1},sticky:{type:String,required:!1},hideWhenDetached:{type:Boolean,required:!1},positionStrategy:{type:String,required:!1},updatePositionStrategy:{type:String,required:!1},disableUpdateOnLayoutShift:{type:Boolean,required:!1},prioritizePosition:{type:Boolean,required:!1,default:!0},reference:{type:null,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(l,{emit:u}){const f=G(l,u),o=R(),n=V(),s=ye(),{forwardRef:a,currentElement:g}=K();return s.contentId||(s.contentId=le(void 0,"reka-menu-sub-content")),(c,i)=>(q(),C(e(Q),{present:c.forceMount||e(o).open.value},{default:m(()=>[F(te,S(e(f),{id:e(s).contentId,ref:e(a),"aria-labelledby":e(s).triggerId,align:"start",side:e(n).dir.value==="rtl"?"left":"right","disable-outside-pointer-events":!1,"disable-outside-scroll":!1,"trap-focus":!1,onOpenAutoFocus:i[0]||(i[0]=W(d=>{var v;e(n).isUsingKeyboardRef.value&&((v=e(g))==null||v.focus())},["prevent"])),onCloseAutoFocus:i[1]||(i[1]=W(()=>{},["prevent"])),onFocusOutside:i[2]||(i[2]=d=>{d.defaultPrevented||d.target!==e(s).trigger.value&&e(o).onOpenChange(!1)}),onEscapeKeyDown:i[3]||(i[3]=d=>{e(n).onClose(),d.preventDefault()}),onKeydown:i[4]||(i[4]=d=>{var w,P;const v=(w=d.currentTarget)==null?void 0:w.contains(d.target),B=e(we)[e(n).dir.value].includes(d.key);v&&B&&(e(o).onOpenChange(!1),(P=e(s).trigger.value)==null||P.focus(),d.preventDefault())})}),{default:m(()=>[h(c.$slots,"default")]),_:3},16,["id","aria-labelledby","side"])]),_:3},8,["present"]))}}),ar=St,Bt=b({__name:"MenuSubTrigger",props:{disabled:{type:Boolean,required:!1},textValue:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(l){const u=l,r=R(),p=V(),f=ye(),o=ee(),n=M(null);f.triggerId||(f.triggerId=le(void 0,"reka-menu-sub-trigger"));function s(){n.value&&window.clearTimeout(n.value),n.value=null}ue(()=>{s()});function a(i){!E(i)||o.onItemEnter(i)||!u.disabled&&!r.open.value&&!n.value&&(o.onPointerGraceIntentChange(null),n.value=window.setTimeout(()=>{r.onOpenChange(!0),s()},100))}async function g(i){var v,B;if(!E(i))return;s();const d=(v=r.content.value)==null?void 0:v.getBoundingClientRect();if(d!=null&&d.width){const w=(B=r.content.value)==null?void 0:B.dataset.side,P=w==="right",U=P?-5:5,I=d[P?"left":"right"],N=d[P?"right":"left"];o.onPointerGraceIntentChange({area:[{x:i.clientX+U,y:i.clientY},{x:I,y:d.top},{x:N,y:d.top},{x:N,y:d.bottom},{x:I,y:d.bottom}],side:w}),window.clearTimeout(o.pointerGraceTimerRef.value),o.pointerGraceTimerRef.value=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(i))return;o.onPointerGraceIntentChange(null)}}async function c(i){var v;const d=o.searchRef.value!=="";u.disabled||d&&i.key===" "||Pe[p.dir.value].includes(i.key)&&(r.onOpenChange(!0),await k(),(v=r.content.value)==null||v.focus(),i.preventDefault())}return(i,d)=>(q(),C(He,{"as-child":""},{default:m(()=>[F(pe,S(u,{id:e(f).triggerId,ref:v=>{var B;(B=e(f))==null||B.onTriggerChange(v==null?void 0:v.$el)},"aria-haspopup":"menu","aria-expanded":e(r).open.value,"aria-controls":e(f).contentId,"data-state":e(se)(e(r).open.value),onClick:d[0]||(d[0]=async v=>{u.disabled||v.defaultPrevented||(v.currentTarget.focus(),e(r).open.value||e(r).onOpenChange(!0))}),onPointermove:a,onPointerleave:g,onKeydown:c}),{default:m(()=>[h(i.$slots,"default")]),_:3},16,["id","aria-expanded","aria-controls","data-state"])]),_:3}))}}),or=Bt;export{Xt as M,Yt as a,Ht as b,yt as c,fe as d,Wt as e,Zt as f,Jt as g,Qt as h,er as i,tr as j,rr as k,ar as l,or as m,He as n};
